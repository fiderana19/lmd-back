"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var fs_1 = __importDefault(require("fs"));
var path_1 = __importDefault(require("path"));
var source_1 = require("../source");
var derived_content_1 = require("./content/derived.content");
var index_content_1 = require("./content/index.content");
/** write individual code file for each error */
source_1.exceptionList.forEach(function (exception) {
    fs_1.default.writeFile(path_1.default.resolve(__dirname, "../exceptions/" + exception.name + ".gen.ts"), derived_content_1.derivedExceptionContent(exception), function (err) {
        if (err) {
            console.log(err);
        }
        else {
            console.log("Generated derived exception " + exception.name);
        }
    });
});
var indexJsImportLines = index_content_1.indexImportContent();
var indexJSExportLines = index_content_1.indexExportContent();
var finalIndexFile = indexJsImportLines + "\n" + indexJSExportLines + "\n";
fs_1.default.writeFile(path_1.default.resolve(__dirname, '../exceptions/index.ts'), finalIndexFile, function () {
    console.log('Index updated');
});
